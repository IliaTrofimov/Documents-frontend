<div class="container panel" *ngIf="documentInfo">
    <h1>Редактирование документа</h1>
    <hr>
    <table class="table-sm table-borderless">
        <tr>
            <td><b>Название</b></td>
            <td><b>Автор</b></td>
            <td><b>Завершение использования</b></td>
            <td><button class="btn btn-success btn-sm" (click)="save()">Сохранить</button></td>
            <td rowspan="2" valign="middle">
                <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="status == 'ok'">
                    Документ сохранён
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="status && status != 'ok'">
                    Не удалось сохранить документ
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </td>
        </tr>
        <tr>
            <td><input class="form-control form-control-sm" [(ngModel)]="documentInfo.name"/></td>
            <td><input class="form-control form-control-sm" [(ngModel)]="documentInfo.author"/></td>
            <td><input type="date" class="form-control form-control-sm" [(ngModel)]="documentInfo.expireDate"/></td>
            <td><button class="btn btn-danger btn-sm" (click)="delete()">Удалить</button></td>
        </tr>
    </table>
    <hr>
</div>
<div class="container panel" *ngIf="template && documentData">
    <h4>Список полей</h4>
    <table class="table table-bordered">
        <tr *ngFor="let f of template.fields; let fi = index">
            <ng-template [ngIf]="f._class == 'InputField'" [ngIfElse]="table">
                <td width="200px"><b>{{f.name}}:</b></td>
                <td><input class="form-control" [(ngModel)]="documentData.data[fi]"/></td>
            </ng-template>
            <ng-template #table>
                <td width="200px"><b>{{f.name}}:</b></td>
                <td>Таблица (зашлушка)</td>
            </ng-template>                          
        </tr>
    </table>    
</div>
<div class="container panel" *ngIf="!documentData || !documentInfo || !template">
    Ошибка, не удалось загурзить документ
    <p *ngIf="!documentData">documentData is Null</p>
    <p *ngIf="!documentInfo">documentInfo is Null</p>
    <p *ngIf="!template">template is Null</p>
</div>
